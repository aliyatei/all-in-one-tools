<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generator Password - Portal Utilitas</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body class="generator-password-page">
    <div class="container">
        <h1>Generator Password Aman</h1>
        <div class="password-options">
            <div class="form-group">
                <label for="passLength">Panjang Password: <span id="lengthValue">12</span></label>
                <input type="range" id="passLength" min="8" max="32" value="12">
            </div>
            <div class="checkbox-group">
                <label><input type="checkbox" id="includeUppercase" checked> Termasuk Huruf Besar (A-Z)</label>
                <label><input type="checkbox" id="includeLowercase" checked> Termasuk Huruf Kecil (a-z)</label>
                <label><input type="checkbox" id="includeNumbers" checked> Termasuk Angka (0-9)</label>
                <label><input type="checkbox" id="includeSymbols" checked> Termasuk Simbol (!@#$%^&*)</label>
            </div>
        </div>
        <button onclick="generatePassword()">Hasilkan Password</button>
        <div class="password-result-area">
            <input type="text" id="generatedPassword" readonly placeholder="Password akan muncul di sini">
            <button id="copyPasswordBtn" onclick="copyPassword()">Salin</button>
        </div>
         <div id="strengthIndicator">Kekuatan: -</div>
        <div class="footer"><a href="index.html" class="back-link">Kembali ke Menu Utama</a></div>
    </div>

    <script>
        const lengthSlider = document.getElementById('passLength');
        const lengthValueDisplay = document.getElementById('lengthValue');
        const includeUppercaseEl = document.getElementById('includeUppercase');
        const includeLowercaseEl = document.getElementById('includeLowercase');
        const includeNumbersEl = document.getElementById('includeNumbers');
        const includeSymbolsEl = document.getElementById('includeSymbols');
        const generatedPasswordEl = document.getElementById('generatedPassword');
        const strengthIndicatorEl = document.getElementById('strengthIndicator');


        lengthSlider.oninput = function() {
            lengthValueDisplay.textContent = this.value;
        }

        function generatePassword() {
            const length = parseInt(lengthSlider.value);
            const includeUppercase = includeUppercaseEl.checked;
            const includeLowercase = includeLowercaseEl.checked;
            const includeNumbers = includeNumbersEl.checked;
            const includeSymbols = includeSymbolsEl.checked;

            const uppercaseChars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            const lowercaseChars = 'abcdefghijklmnopqrstuvwxyz';
            const numberChars = '0123456789';
            const symbolChars = '!@#$%^&*()_+-=[]{}|;:,.<>?';

            let charPool = '';
            if (includeUppercase) charPool += uppercaseChars;
            if (includeLowercase) charPool += lowercaseChars;
            if (includeNumbers) charPool += numberChars;
            if (includeSymbols) charPool += symbolChars;

            if (charPool === '') {
                alert("Pilih setidaknya satu jenis karakter untuk disertakan.");
                generatedPasswordEl.value = "";
                updateStrengthIndicator("");
                return;
            }

            let password = '';
            for (let i = 0; i < length; i++) {
                const randomIndex = Math.floor(Math.random() * charPool.length);
                password += charPool[randomIndex];
            }
            generatedPasswordEl.value = password;
            updateStrengthIndicator(password);
        }
        
        function updateStrengthIndicator(password) {
            let strength = 0;
            if (password.length >= 8) strength++;
            if (password.length >= 12) strength++;
            if (/[A-Z]/.test(password)) strength++;
            if (/[a-z]/.test(password)) strength++;
            if (/[0-9]/.test(password)) strength++;
            if (/[^A-Za-z0-9]/.test(password)) strength++;

            let strengthText = "Kekuatan: ";
            if (password.length === 0) {
                 strengthText += "-";
            } else if (strength < 3) {
                strengthText += "Lemah";
            } else if (strength < 5) {
                strengthText += "Sedang";
            } else {
                strengthText += "Kuat";
            }
            strengthIndicatorEl.textContent = strengthText;
        }


        function copyPassword() {
            if (generatedPasswordEl.value === "") {
                alert("Tidak ada password untuk disalin.");
                return;
            }
            generatedPasswordEl.select();
            document.execCommand('copy');
            alert("Password berhasil disalin ke clipboard!");
        }
        
        // Initial generation
        generatePassword();
    </script>
</body>
</html>