<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚úçÔ∏è Pengubah Format Teks Ajaib</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body class="format-teks-page">
    <div class="container">
        <h1>‚úçÔ∏è Sulap Format Teksmu! ü™Ñ</h1>

        <textarea id="textInput" placeholder="Tuliskan mantra... eh, teksmu di sini..."></textarea>

        <div class="button-group">
            <button onclick="formatText('sentence')">Kalimat Rapi</button>
            <button onclick="formatText('lower')">huruf kecil semua</button>
            <button onclick="formatText('upper')">JADI BESAR SEMUA!</button>
            <button onclick="formatText('capitalized')">Setiap Kata Besar</button>
            <button onclick="formatText('alternating')">aLtErNaTiNg sErU</button>
            <button onclick="formatText('title')">Gaya Judul Kece</button>
            <button onclick="formatText('inverse')">bAlIkKaN kAsUs</button>
            <button class="copy-btn" onclick="copyText()">Salin Keajaiban Ini! üìã</button>
        </div>

        <div class="footer">Diciptakan dengan imajinasi ‚ú® oleh Kamu!</div>
    </div>

    <script>
        function formatText(type) {
            let textInput = document.getElementById('textInput');
            let originalText = textInput.value; // Keep original for some cases

            if (originalText.trim() === "") {
                alert("Ups! Tulis sesuatu dulu dong biar bisa disulap!");
                return;
            }

            let formattedText = "";

            switch (type) {
                case 'sentence':
                    formattedText = originalText.toLowerCase().replace(/(^\s*\w|[.!?]\s*\w)/g, (c) => c.toUpperCase());
                    break;
                case 'lower':
                    formattedText = originalText.toLowerCase();
                    break;
                case 'upper':
                    formattedText = originalText.toUpperCase();
                    break;
                case 'capitalized':
                    formattedText = originalText.toLowerCase().split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');
                    break;
                case 'alternating':
                    formattedText = originalText.split('').map((char, index) => index % 2 === 0 ? char.toLowerCase() : char.toUpperCase()).join('');
                    break;
                case 'title': // More robust title case (example, not exhaustive)
                    const smallWords = /^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;
                    formattedText = originalText.toLowerCase().split(' ').map((word, index, array) => {
                        if (index === 0 || index === array.length -1 || !smallWords.test(word)) {
                            return word.charAt(0).toUpperCase() + word.slice(1);
                        }
                        return word;
                    }).join(' ');
                    break;
                case 'inverse':
                    formattedText = originalText.split('').map(char => char === char.toUpperCase() ? char.toLowerCase() : char.toUpperCase()).join('');
                    break;
                default:
                    formattedText = originalText;
            }

            textInput.value = formattedText;
            // Little visual feedback
            textInput.style.transition = 'transform 0.2s ease';
            textInput.style.transform = 'scale(1.02)';
            setTimeout(() => { textInput.style.transform = 'scale(1)'; }, 200);
        }

        function copyText() {
            let textInput = document.getElementById('textInput');

            if (textInput.value.trim() === "") {
                alert("Hehe, belum ada teks ajaib untuk disalin nih!");
                return;
            }

            textInput.select();
            textInput.setSelectionRange(0, 99999); // For mobile devices

            try {
                document.execCommand("copy");
                alert("Voila! Teks ajaib berhasil disalin! ‚ú®");
            } catch (err) {
                alert("Oops! Gagal menyalin. Coba cara manual ya.");
            }
        }
    </script>
</body>
</html>