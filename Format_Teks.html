<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pengubah Format Teks</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body class="format-teks-page">
    <div class="container">
        <h1>Pengubah Format Teks</h1>

        <textarea id="textInput" placeholder="Masukkan teks Anda di sini..."></textarea>

        <div class="button-group">
            <button onclick="formatText('sentence')">Sentence case</button>
            <button onclick="formatText('lower')">lower case</button>
            <button onclick="formatText('upper')">UPPER CASE</button>
            <button onclick="formatText('capitalized')">Capitalized Case</button>
            <button onclick="formatText('alternating')">aLtErNaTiNg cAsE</button>
            <button onclick="formatText('title')">Title Case</button>
            <button onclick="formatText('inverse')">InVeRsE CaSe</button>
            <button class="copy-btn" onclick="copyText()">Salin Teks</button>
        </div>

        <div class="footer">Utilitas Pemformatan Teks</div>
    </div>

    <script>
        function formatText(type) {
            let textInput = document.getElementById('textInput');
            let originalText = textInput.value;

            if (originalText.trim() === "") {
                alert("Silakan masukkan teks terlebih dahulu.");
                return;
            }

            let formattedText = "";

            switch (type) {
                case 'sentence':
                    formattedText = originalText.toLowerCase().replace(/(^\s*\w|[.!?]\s*\w)/g, (c) => c.toUpperCase());
                    break;
                case 'lower':
                    formattedText = originalText.toLowerCase();
                    break;
                case 'upper':
                    formattedText = originalText.toUpperCase();
                    break;
                case 'capitalized':
                    formattedText = originalText.toLowerCase().split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');
                    break;
                case 'alternating':
                    formattedText = originalText.split('').map((char, index) => index % 2 === 0 ? char.toLowerCase() : char.toUpperCase()).join('');
                    break;
                case 'title':
                    const smallWords = /^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;
                    formattedText = originalText.toLowerCase().split(' ').map((word, index, array) => {
                        if (index === 0 || index === array.length -1 || !smallWords.test(word)) {
                            return word.charAt(0).toUpperCase() + word.slice(1);
                        }
                        return word;
                    }).join(' ');
                    break;
                case 'inverse':
                    formattedText = originalText.split('').map(char => char === char.toUpperCase() ? char.toLowerCase() : char.toUpperCase()).join('');
                    break;
                default:
                    formattedText = originalText;
            }
            textInput.value = formattedText;
        }

        function copyText() {
            let textInput = document.getElementById('textInput');

            if (textInput.value.trim() === "") {
                alert("Tidak ada teks untuk disalin.");
                return;
            }

            textInput.select();
            textInput.setSelectionRange(0, 99999);

            try {
                document.execCommand("copy");
                alert("Teks berhasil disalin.");
            } catch (err) {
                alert("Gagal menyalin teks. Silakan coba secara manual.");
            }
        }
    </script>
</body>
</html>